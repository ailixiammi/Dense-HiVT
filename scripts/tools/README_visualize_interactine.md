# äº¤äº’å¼å¯è§†åŒ–å·¥å…·ä½¿ç”¨è¯´æ˜

## ğŸ“‹ å·¥å…·ç®€ä»‹

`visualize_interactive.py` æ˜¯ä¸€ä¸ªåŸºäº **Streamlit + Plotly** çš„äº¤äº’å¼å¯è§†åŒ–å·¥å…·ï¼Œç”¨äºæŸ¥çœ‹é¢„å¤„ç†åçš„ `.pt` æ–‡ä»¶ã€‚æ”¯æŒå®æ—¶è¿‡æ»¤ Agentã€æ—¶é—´èŒƒå›´å’Œåœ°å›¾æ˜¾ç¤ºã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- âœ… **äº¤äº’å¼ç‚¹äº‘å¯è§†åŒ–**ï¼šAgent è½¨è¿¹ç‚¹å’Œåœ°å›¾ Lane ä¸­å¿ƒçº¿
- âœ… **å®æ—¶è¿‡æ»¤æ§åˆ¶**ï¼šæŒ‰ Agent ç±»å‹ã€æ—¶é—´èŒƒå›´è¿‡æ»¤
- âœ… **é¼ æ ‡æ‚¬åœæŸ¥çœ‹è¯¦æƒ…**ï¼šåæ ‡ã€Agent IDã€æ—¶é—´æ­¥
- âœ… **1:1 æ¯”ä¾‹æ˜¾ç¤º**ï¼šå‡†ç¡®å‘ˆç°ç©ºé—´å…³ç³»
- âœ… **Web ç•Œé¢è®¿é—®**ï¼šé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œæ”¯æŒè¿œç¨‹æœåŠ¡å™¨

## ğŸ“¦ ä¾èµ–å®‰è£…

```bash
pip install streamlit plotly torch numpy
```

## ğŸš€ åŸºæœ¬ä½¿ç”¨

### 1. æœ¬åœ°è¿è¡Œï¼ˆç›´æ¥è®¿é—®ï¼‰

å¦‚æœåœ¨æœ¬åœ°æœºå™¨è¿è¡Œï¼š

```bash
# å¯åŠ¨å¯è§†åŒ–æœåŠ¡
cd /path/to/project
streamlit run scripts/visualize_interactive.py

# Streamlit ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œé»˜è®¤åœ°å€ï¼š
# http://localhost:8501
```

### 2. è¿œç¨‹æœåŠ¡å™¨è¿è¡Œï¼ˆæ¨èï¼šVSCode Remoteï¼‰

å¦‚æœæ•°æ®åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œæ¨èä½¿ç”¨ **VSCode Remote SSH** + è‡ªåŠ¨ç«¯å£è½¬å‘ï¼Œæ“ä½œæœ€ç®€å•ï¼

#### ğŸ¯ æ–¹æ³• 1ï¼šVSCode Remote SSHï¼ˆæ¨èï¼‰

**Step 1: è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨**

1. åœ¨ VSCode ä¸­æŒ‰ `F1` æˆ– `Ctrl+Shift+P`
2. è¾“å…¥ `Remote-SSH: Connect to Host`
3. é€‰æ‹©æˆ–è¾“å…¥è¿œç¨‹æœåŠ¡å™¨åœ°å€ï¼ˆå¦‚ `user@remote-server`ï¼‰
4. ç­‰å¾…è¿æ¥æˆåŠŸ

**Step 2: æ‰“å¼€é¡¹ç›®ç›®å½•**

```
File -> Open Folder -> é€‰æ‹© /root/devdata/HiVT
```

**Step 3: åœ¨ VSCode ç»ˆç«¯å¯åŠ¨ Streamlit**

åœ¨ VSCode åº•éƒ¨çš„ç»ˆç«¯ï¼ˆå·²ç»åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼‰æ‰§è¡Œï¼š

```bash
streamlit run scripts/visualize_interactive.py --server.port 8501
```

**Step 4: VSCode è‡ªåŠ¨è½¬å‘ç«¯å£**

- å¯åŠ¨åï¼ŒVSCode ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° 8501 ç«¯å£
- å³ä¸‹è§’ä¼šå¼¹å‡ºæç¤ºï¼š**"Your application running on port 8501 is available"**
- ç‚¹å‡» **"Open in Browser"** å³å¯åœ¨æœ¬åœ°æµè§ˆå™¨è®¿é—®ï¼

**æˆ–è€…æ‰‹åŠ¨æŸ¥çœ‹ç«¯å£ï¼š**
1. åœ¨ VSCode åº•éƒ¨é¢æ¿åˆ‡æ¢åˆ° **"PORTS"** æ ‡ç­¾
2. çœ‹åˆ° 8501 ç«¯å£ï¼ŒçŠ¶æ€ä¸º **"Forwarded"**
3. å³é”®ç‚¹å‡»ç«¯å£ -> **"Open in Browser"**

âœ… **ä¼˜åŠ¿ï¼š**
- æ— éœ€æ‰‹åŠ¨é…ç½® SSH ç«¯å£è½¬å‘
- VSCode è‡ªåŠ¨ç®¡ç†ç«¯å£æ˜ å°„
- ç»ˆç«¯ã€æ–‡ä»¶ç¼–è¾‘ã€å¯è§†åŒ–ä¸€ä½“åŒ–ä½“éªŒ
- æ–­å¼€é‡è¿åç«¯å£è‡ªåŠ¨æ¢å¤

---

#### ğŸ”§ æ–¹æ³• 2ï¼šä¼ ç»Ÿ SSH ç«¯å£è½¬å‘

å¦‚æœä¸ä½¿ç”¨ VSCode Remoteï¼Œå¯ä»¥æ‰‹åŠ¨é…ç½®ç«¯å£è½¬å‘ï¼š

**Step 1: åœ¨è¿œç¨‹æœåŠ¡å™¨å¯åŠ¨æœåŠ¡**

```bash
# SSH ç™»å½•åˆ°è¿œç¨‹æœåŠ¡å™¨
ssh user@remote-server

# å¯åŠ¨ Streamlit
cd /root/devdata/HiVT
streamlit run scripts/visualize_interactive.py --server.port 8501
```

å¯åŠ¨åä¼šçœ‹åˆ°ï¼š
```
  You can now view your Streamlit app in your browser.
  Local URL: http://localhost:8501
```

**âš ï¸ ä¿æŒè¿™ä¸ªç»ˆç«¯è¿è¡Œï¼Œä¸è¦å…³é—­ï¼**

**Step 2: åœ¨æœ¬åœ°æœºå™¨è®¾ç½® SSH ç«¯å£è½¬å‘**

æ‰“å¼€**æ–°çš„**æœ¬åœ°ç»ˆç«¯ï¼Œæ‰§è¡Œï¼š

```bash
ssh -L 8501:localhost:8501 user@remote-server
```

**å‚æ•°è¯´æ˜ï¼š**
- `8501:localhost:8501`ï¼šå°†æœ¬åœ° 8501 ç«¯å£è½¬å‘åˆ°è¿œç¨‹ 8501 ç«¯å£
- `user@remote-server`ï¼šä½ çš„è¿œç¨‹æœåŠ¡å™¨åœ°å€

**Step 3: åœ¨æµè§ˆå™¨è®¿é—®**

```
http://localhost:8501
```

ç°åœ¨ä½ å¯ä»¥åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­çœ‹åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„å¯è§†åŒ–ç•Œé¢äº†ï¼

## ğŸ® ä½¿ç”¨ç•Œé¢

### ä¾§è¾¹æ æ§åˆ¶

#### 1ï¸âƒ£ File Selectorï¼ˆæ–‡ä»¶é€‰æ‹©ï¼‰
- **Data Directory**ï¼šè¾“å…¥ `.pt` æ–‡ä»¶æ‰€åœ¨ç›®å½•
  - é»˜è®¤ï¼š`/root/vc/data/train/processed_dense/`
- **Select a .pt file**ï¼šä»ä¸‹æ‹‰èœå•é€‰æ‹©è¦æŸ¥çœ‹çš„æ–‡ä»¶

#### 2ï¸âƒ£ Agent Filterï¼ˆAgent è¿‡æ»¤ï¼‰
- â˜‘ï¸ **Show AV** - æ˜¾ç¤ºè‡ªè½¦ï¼ˆçº¢è‰²ï¼‰
- â˜‘ï¸ **Show Target Agent** - æ˜¾ç¤ºç›®æ ‡è½¦è¾†ï¼ˆè“è‰²ï¼‰
- â˜‘ï¸ **Show Others** - æ˜¾ç¤ºå…¶ä»–è½¦è¾†ï¼ˆç»¿è‰²ï¼‰

#### 3ï¸âƒ£ Temporal Filterï¼ˆæ—¶é—´è¿‡æ»¤ï¼‰
- â˜‘ï¸ **Show History Points** - æ˜¾ç¤ºå†å²ç‚¹ï¼ˆt â‰¤ 19ï¼Œå®å¿ƒåœ†ç‚¹ï¼‰
- â˜‘ï¸ **Show Future Points** - æ˜¾ç¤ºæœªæ¥ç‚¹ï¼ˆt > 19ï¼Œå‰å·ï¼‰

#### 4ï¸âƒ£ Map Toggleï¼ˆåœ°å›¾å¼€å…³ï¼‰
- â˜‘ï¸ **Show Lane Centerlines** - æ˜¾ç¤ºåœ°å›¾ Lane ä¸­å¿ƒçº¿ï¼ˆç°è‰²ï¼‰

### ä¸»ç•Œé¢

- **å¯è§†åŒ–å›¾è¡¨**ï¼š
  - é¼ æ ‡æ‚¬åœæŸ¥çœ‹è¯¦æƒ…ï¼ˆAgent IDã€æ—¶é—´æ­¥ã€åæ ‡ï¼‰
  - é¼ æ ‡æ»šè½®ç¼©æ”¾
  - é¼ æ ‡æ‹–æ‹½å¹³ç§»
  - åŒå‡»é‡ç½®è§†å›¾
  - ç‚¹å‡»å›¾ä¾‹éšè—/æ˜¾ç¤ºç‰¹å®šç±»å‹

- **File Info**ï¼šæ˜¾ç¤ºæ–‡ä»¶åŸºæœ¬ä¿¡æ¯
  - æ–‡ä»¶å
  - åŸç‚¹åæ ‡
  - Agent æ€»æ•°
  - Lane æ€»æ•°

- **Advanced Info**ï¼šå±•å¼€æŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡
  - Agent ç±»å‹åˆ†å¸ƒ
  - æ•°æ®ç»´åº¦ä¿¡æ¯

## ğŸ“Š é¢œè‰²å’Œç¬¦å·è¯´æ˜

| Agent ç±»å‹ | é¢œè‰² | å†å²ç‚¹ | æœªæ¥ç‚¹ |
|-----------|------|--------|--------|
| AVï¼ˆè‡ªè½¦ï¼‰ | ğŸ”´ çº¢è‰² | â— å®å¿ƒåœ† | âœ• å‰å· |
| Target Agent | ğŸ”µ è“è‰² | â— å®å¿ƒåœ† | âœ• å‰å· |
| Others | ğŸŸ¢ ç»¿è‰² | â— å®å¿ƒåœ† | âœ• å‰å· |
| Lane Centerlines | âšª ç°è‰² | çº¿æ¡ | - |

**é€æ˜åº¦è¯´æ˜ï¼š**
- å†å²ç‚¹ï¼šä¸é€æ˜ï¼ˆopacity=1.0ï¼‰
- æœªæ¥ç‚¹ï¼šåŠé€æ˜ï¼ˆopacity=0.6ï¼‰

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### æŠ€å·§ 1ï¼šå¿«é€Ÿå®šä½ Target Agent
```
1. å–æ¶ˆå‹¾é€‰ "Show Others"
2. åªä¿ç•™ AV å’Œ Target Agent
3. ä¸“æ³¨æŸ¥çœ‹ä¸¤è€…çš„äº¤äº’å…³ç³»
```

### æŠ€å·§ 2ï¼šæŸ¥çœ‹æœªæ¥è½¨è¿¹é¢„æµ‹
```
1. å–æ¶ˆå‹¾é€‰ "Show History Points"
2. åªæ˜¾ç¤º "Show Future Points"
3. æŸ¥çœ‹æ¨¡å‹éœ€è¦é¢„æµ‹çš„è½¨è¿¹éƒ¨åˆ†
```

### æŠ€å·§ 3ï¼šæ£€æŸ¥åœ°å›¾å¯¹é½
```
1. å‹¾é€‰ "Show Lane Centerlines"
2. æŸ¥çœ‹ Agent è½¨è¿¹æ˜¯å¦åœ¨ Lane ä¸Šè¡Œé©¶
3. éªŒè¯åæ ‡å˜æ¢æ˜¯å¦æ­£ç¡®
```

### æŠ€å·§ 4ï¼šæ‰¹é‡æŸ¥çœ‹å¤šä¸ªåœºæ™¯
```
1. åœ¨ä¾§è¾¹æ çš„ä¸‹æ‹‰èœå•ä¸­åˆ‡æ¢æ–‡ä»¶
2. Streamlit ä¼šè‡ªåŠ¨ç¼“å­˜å·²åŠ è½½çš„æ–‡ä»¶
3. å¿«é€Ÿå¯¹æ¯”ä¸åŒåœºæ™¯çš„ç‰¹å¾
```

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: æµè§ˆå™¨æ— æ³•è®¿é—® localhost:8501

**å¯èƒ½åŸå› ï¼š**
1. Streamlit æœåŠ¡æœªå¯åŠ¨
2. ç«¯å£è¢«å ç”¨
3. é˜²ç«å¢™é˜»æ­¢

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | grep 8501

# æ›´æ¢ç«¯å£
streamlit run scripts/visualize_interactive.py --server.port 8502

# ç„¶åè®¿é—® http://localhost:8502
```

### Q2: SSH ç«¯å£è½¬å‘åä»æ— æ³•è®¿é—®

**æ£€æŸ¥æ­¥éª¤ï¼š**
```bash
# 1. ç¡®è®¤ SSH è½¬å‘æˆåŠŸ
ssh -L 8501:localhost:8501 user@remote-server
# åº”è¯¥èƒ½æ­£å¸¸ç™»å½•ï¼Œä¸æŠ¥é”™

# 2. ç¡®è®¤è¿œç¨‹æœåŠ¡å™¨çš„ Streamlit æ­£åœ¨è¿è¡Œ
# åœ¨è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œï¼š
ps aux | grep streamlit

# 3. ç¡®è®¤æœ¬åœ°ç«¯å£æœªè¢«å ç”¨
netstat -an | grep 8501  # Windows
lsof -i :8501            # macOS/Linux
```

### Q3: æç¤º "No .pt files found"

**è§£å†³æ–¹æ¡ˆï¼š**
```
1. æ£€æŸ¥ä¾§è¾¹æ çš„ "Data Directory" è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ç¡®ä¿è¯¥ç›®å½•ä¸‹æœ‰ .pt æ–‡ä»¶
3. ç‚¹å‡»è¾“å…¥æ¡†ä¿®æ”¹è·¯å¾„ï¼ŒæŒ‰å›è½¦åˆ·æ–°
```

### Q4: åŠ è½½æ–‡ä»¶å¾ˆæ…¢

**åŸå› ï¼š** `.pt` æ–‡ä»¶è¾ƒå¤§ï¼ˆ1-2 MBï¼‰ï¼Œé¦–æ¬¡åŠ è½½éœ€è¦æ—¶é—´

**ä¼˜åŒ–ï¼š**
- Streamlit ä¼šè‡ªåŠ¨ç¼“å­˜å·²åŠ è½½çš„æ–‡ä»¶
- åˆ‡æ¢åˆ°å·²æŸ¥çœ‹è¿‡çš„æ–‡ä»¶ä¼šå¾ˆå¿«
- å¦‚æœä»ç„¶å¾ˆæ…¢ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆè¿œç¨‹æœåŠ¡å™¨åœºæ™¯ï¼‰

### Q5: VSCode æ²¡æœ‰è‡ªåŠ¨å¼¹å‡ºç«¯å£è½¬å‘æç¤ºæ€ä¹ˆåŠï¼Ÿ

**è§£å†³æ–¹æ¡ˆï¼š**

**æ–¹æ³• 1ï¼šæ‰‹åŠ¨æ·»åŠ ç«¯å£è½¬å‘**
1. åœ¨ VSCode åº•éƒ¨é¢æ¿åˆ‡æ¢åˆ° **"PORTS"** æ ‡ç­¾
2. ç‚¹å‡» **"Forward a Port"** æŒ‰é’®
3. è¾“å…¥ `8501`
4. ç«¯å£æ·»åŠ åï¼Œå³é”® -> **"Open in Browser"**

**æ–¹æ³• 2ï¼šæ£€æŸ¥ VSCode è®¾ç½®**
```json
// settings.json ä¸­ç¡®ä¿å¯ç”¨äº†è‡ªåŠ¨ç«¯å£è½¬å‘
{
  "remote.autoForwardPorts": true,
  "remote.autoForwardPortsSource": "process"
}
```

**æ–¹æ³• 3ï¼šé‡å¯ Streamlit**
- åœ¨ç»ˆç«¯æŒ‰ `Ctrl+C` åœæ­¢ Streamlit
- é‡æ–°è¿è¡Œ `streamlit run scripts/visualize_interactive.py`
- VSCode åº”è¯¥ä¼šé‡æ–°æ£€æµ‹ç«¯å£

### Q6: åœ¨è¿œç¨‹æœåŠ¡å™¨åå°è¿è¡Œ Streamlit

**VSCode Remote ç”¨æˆ·ï¼ˆæ¨èï¼‰ï¼š**
```bash
# åœ¨ VSCode ç»ˆç«¯ç›´æ¥è¿è¡Œå³å¯
streamlit run scripts/visualize_interactive.py

# å³ä½¿å…³é—­ VSCodeï¼Œè¿›ç¨‹ä¹Ÿä¼šç»§ç»­è¿è¡Œ
# é‡æ–°è¿æ¥ VSCode åï¼Œç«¯å£ä¼šè‡ªåŠ¨é‡æ–°è½¬å‘
```

**ä¼ ç»Ÿ SSH ç”¨æˆ·ï¼šä½¿ç”¨ tmux æˆ– screen**
```bash
# æ–¹æ³•1: ä½¿ç”¨ tmux
tmux new -s streamlit
streamlit run scripts/visualize_interactive.py
# æŒ‰ Ctrl+B ç„¶åæŒ‰ D åˆ†ç¦»ä¼šè¯
# é‡æ–°è¿æ¥: tmux attach -t streamlit

# æ–¹æ³•2: ä½¿ç”¨ nohup
nohup streamlit run scripts/visualize_interactive.py > streamlit.log 2>&1 &
# æŸ¥çœ‹æ—¥å¿—: tail -f streamlit.log
```

## ğŸ’» VSCode ä½¿ç”¨æŠ€å·§

### åœ¨ VSCode ä¸­çš„å®Œæ•´å·¥ä½œæµ

1. **è¿æ¥è¿œç¨‹æœåŠ¡å™¨**
   ```
   F1 -> Remote-SSH: Connect to Host -> é€‰æ‹©æœåŠ¡å™¨
   ```

2. **æ‰“å¼€é¡¹ç›®**
   ```
   File -> Open Folder -> /root/devdata/HiVT
   ```

3. **å¯åŠ¨å¯è§†åŒ–**
   - åœ¨ç»ˆç«¯è¿è¡Œï¼š`streamlit run scripts/visualize_interactive.py`
   - ç­‰å¾… VSCode å¼¹å‡ºç«¯å£è½¬å‘æç¤º
   - ç‚¹å‡» "Open in Browser"

4. **åŒæ—¶ç¼–è¾‘ä»£ç å’ŒæŸ¥çœ‹å¯è§†åŒ–**
   - å·¦ä¾§ï¼šç¼–è¾‘ Python ä»£ç 
   - å³ä¾§ï¼šæµè§ˆå™¨æ˜¾ç¤º Streamlit ç•Œé¢
   - ä¿®æ”¹ä»£ç åï¼ŒStreamlit ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ï¼

### å¿«æ·é”®

- **æ‰“å¼€/å…³é—­ç»ˆç«¯**ï¼š`` Ctrl+` ``
- **åˆ‡æ¢ PORTS é¢æ¿**ï¼š`Ctrl+Shift+P` -> "View: Toggle Ports"
- **æ–°å»ºç»ˆç«¯**ï¼š`Ctrl+Shift+` ` `
- **åˆ†å±ç¼–è¾‘å™¨**ï¼š`Ctrl+\`

### è°ƒè¯•æŠ€å·§

**æŸ¥çœ‹ Streamlit æ—¥å¿—**
```bash
# åœ¨ VSCode ç»ˆç«¯ç›´æ¥çœ‹åˆ°å®æ—¶æ—¥å¿—
# åŒ…æ‹¬é”™è¯¯ä¿¡æ¯ã€è­¦å‘Šã€åŠ è½½çŠ¶æ€ç­‰
```

**ä¿®æ”¹ä»£ç åè‡ªåŠ¨åˆ·æ–°**
- Streamlit æ”¯æŒ **çƒ­é‡è½½**
- ä¿®æ”¹ `visualize_interactive.py` åä¿å­˜
- æµè§ˆå™¨ä¼šæç¤º "Source file changed. Rerun?"
- ç‚¹å‡» "Always rerun" å³å¯è‡ªåŠ¨åˆ·æ–°

**å¤šæ–‡ä»¶ç¼–è¾‘**
```
1. åœ¨ VSCode å·¦ä¾§æ–‡ä»¶æ ‘æ‰“å¼€å¤šä¸ªæ–‡ä»¶
2. ä½¿ç”¨åˆ†å± (Ctrl+\) åŒæ—¶æŸ¥çœ‹
3. è¾¹ä¿®æ”¹ä»£ç è¾¹çœ‹å¯è§†åŒ–ç»“æœ
```

## ğŸŒ é«˜çº§é…ç½®

### è‡ªå®šä¹‰é»˜è®¤è·¯å¾„

ç¼–è¾‘ `scripts/visualize_interactive.py` ç¬¬ 14 è¡Œï¼š

```python
# ä¿®æ”¹ä¸ºä½ çš„æ•°æ®ç›®å½•
PROCESSED_DATA_DIR = Path("/your/custom/path/processed_dense/")
```

### ä¿®æ”¹é¢œè‰²æ–¹æ¡ˆ

ç¼–è¾‘ `scripts/visualize_interactive.py` ç¬¬ 18-23 è¡Œï¼š

```python
COLORS = {
    'av': 'red',        # æ”¹ä¸ºä½ å–œæ¬¢çš„é¢œè‰²
    'target': 'blue',
    'others': 'green',
    'map': 'lightgrey'
}
```

### æ›´æ”¹é»˜è®¤ç«¯å£

```bash
streamlit run scripts/visualize_interactive.py \
    --server.port 9000 \
    --server.address 0.0.0.0  # å…è®¸å¤–éƒ¨è®¿é—®ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
```

## ğŸ“ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯ 1ï¼šéªŒè¯é¢„å¤„ç†ç»“æœ
```bash
# 1. å¯åŠ¨å¯è§†åŒ–
streamlit run scripts/visualize_interactive.py

# 2. åœ¨ç•Œé¢ä¸­ï¼š
#    - é€‰æ‹©ä¸€ä¸ª .pt æ–‡ä»¶
#    - æ£€æŸ¥ Agent è½¨è¿¹æ˜¯å¦è¿ç»­
#    - æ£€æŸ¥åœ°å›¾ Lane æ˜¯å¦å®Œæ•´
#    - æ£€æŸ¥åæ ‡ç³»æ˜¯å¦ä»¥ AV ä¸ºä¸­å¿ƒ
```

### åœºæ™¯ 2ï¼šè°ƒè¯•æ¨¡å‹é¢„æµ‹
```bash
# å‡è®¾ä½ çš„æ¨¡å‹é¢„æµ‹äº†æœªæ¥è½¨è¿¹ï¼Œå­˜å‚¨åœ¨ prediction.pt
# 1. åŠ è½½ ground truth
# 2. å…³é—­ "Show Future Points"
# 3. æ‰‹åŠ¨å åŠ é¢„æµ‹è½¨è¿¹ï¼ˆéœ€è¦ä¿®æ”¹è„šæœ¬ï¼‰
# 4. å¯¹æ¯”é¢„æµ‹ä¸çœŸå€¼
```

### åœºæ™¯ 3ï¼šåˆ†æå¤æ‚äº¤äº’åœºæ™¯
```bash
# 1. ç­›é€‰ Others æ•°é‡ > 10 çš„åœºæ™¯
# 2. æŸ¥çœ‹å¤šè½¦äº¤äº’æ¨¡å¼
# 3. æ£€æŸ¥åœ°å›¾æ‹“æ‰‘å¯¹è¡Œä¸ºçš„å½±å“
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### é”™è¯¯ï¼šModuleNotFoundError

```bash
# å®‰è£…ç¼ºå¤±çš„ä¾èµ–
pip install streamlit plotly torch numpy
```

### é”™è¯¯ï¼šOSError: [Errno 98] Address already in use

```bash
# ç«¯å£è¢«å ç”¨ï¼Œæ›´æ¢ç«¯å£
streamlit run scripts/visualize_interactive.py --server.port 8502
```

### æ€§èƒ½ä¼˜åŒ–

å¦‚æœå¯è§†åŒ–å¡é¡¿ï¼š
```python
# åœ¨ä»£ç ä¸­å‡å°‘ç»˜åˆ¶çš„ç‚¹æ•°
# ä¿®æ”¹ prepare_agent_points() å‡½æ•°ï¼Œä¾‹å¦‚ï¼š
# åªæ˜¾ç¤ºæ¯ 2 ä¸ªæ—¶é—´æ­¥çš„ç‚¹
if t % 2 == 0:
    points.append(...)
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Streamlit å®˜æ–¹æ–‡æ¡£](https://docs.streamlit.io/)
- [Plotly å®˜æ–¹æ–‡æ¡£](https://plotly.com/python/)
- [é¢„å¤„ç†è„šæœ¬æ–‡æ¡£](README_preprocess_offline.md)

## ğŸ’¬ åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘è€…æˆ–æäº¤ Issueã€‚